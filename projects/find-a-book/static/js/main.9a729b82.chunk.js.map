{"version":3,"sources":["js/api-fetch.js","js/search.js","js/book.js","js/books.js","img/loading.gif","js/page.js","js/pagination.js","index.js"],"names":["parseRawBooksJson","rawJson","items","map","bookItem","volumeInfo","authors","description","pageCount","previewLink","publishedDate","publisher","subtitle","title","bookCover","imageLinks","thumbnail","fetchBooksFromAPI","query","startIndex","maxResults","a","apiURL","toString","fetch","res","json","console","log","books","totalItems","error","Search","className","id","aria-label","style","this","props","length","onClick","onClear","type","autoComplete","value","placeholder","onChange","onKeyPress","pressed","key","React","Component","Book","d","substr","desc","join","authorList","href","rel","target","src","alt","Books","loading","bookList","book","idx","Page","LEFT_PAGE","RIGHT_PAGE","currentPage","pages","onPageChange","page","Pagination","prevPages","Math","max","min","lower","upper","range","i","push","show","getPageInfo","Base","state","currentSearchQuery","booksPerPage","userIn","setState","then","newPage","newStartIdx","window","scrollTo","top","behavior","document","querySelector","focus","handleChange","handleSearch","handleClear","n","handlePageChange","pageSize","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.9a729b82.chunk.js","sourcesContent":["function parseRawBooksJson (rawJson) {\r\n  const { items } = rawJson;\r\n  if (!items) return [];\r\n\r\n  return items.map(bookItem => {\r\n    const volumeInfo = bookItem.volumeInfo;\r\n\r\n    const {\r\n      authors,\r\n      description,\r\n      pageCount,\r\n      previewLink,\r\n      publishedDate,\r\n      publisher,\r\n      subtitle,\r\n      title\r\n    } = volumeInfo;\r\n    const bookCover = volumeInfo.imageLinks ? volumeInfo.imageLinks.thumbnail : 'https://www.lse.ac.uk/International-History/Images/Books/NoBookCover.png';\r\n\r\n    return {\r\n      authors,\r\n      description,\r\n      bookCover,\r\n      pageCount,\r\n      previewLink,\r\n      publishedDate,\r\n      publisher,\r\n      subtitle,\r\n      title,\r\n    };\r\n  });\r\n}\r\n\r\nexport async function fetchBooksFromAPI (query, startIndex, maxResults) {\r\n  const apiURL = 'https://www.googleapis.com/books/v1/volumes' +\r\n    '?q=' + query +\r\n    '&startIndex=' + startIndex.toString() +\r\n    '&maxResults=' + maxResults.toString();\r\n  try {\r\n    const res = await fetch(apiURL);\r\n    const rawJson = await res.json();\r\n    console.log(res);\r\n    console.log(rawJson);\r\n    const books = parseRawBooksJson(rawJson);\r\n    const { totalItems } = rawJson;\r\n    return { books, totalItems };\r\n  } catch (e) {\r\n    console.error(e);\r\n  }\r\n}","import React from 'react';\r\n\r\nexport class Search extends React.Component {\r\n  render () {\r\n    return(\r\n      <div className=\"search\">\r\n        <button \r\n          id=\"clear-btn\"\r\n          aria-label=\"clear and focus search input\"\r\n          style={{\r\n            'display': (this.props.query.length > 0 ? 'inline-block' : 'none')\r\n          }}\r\n          onClick={this.props.onClear}\r\n        > X\r\n        </button>\r\n        <input\r\n          id=\"search-input\"\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          value={this.props.query}\r\n          placeholder=\"Search by author, name, etc...\"\r\n          onChange={this.props.onChange}\r\n          onKeyPress={pressed => {\r\n            if (pressed.key === 'Enter') {\r\n              this.props.onClick();\r\n            }\r\n          }}\r\n        ></input>\r\n        <button\r\n          id=\"search-btn\"\r\n          aria-label=\"search button\"\r\n          onClick={this.props.onClick}\r\n        > SEARCH\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}","import React from 'react';\r\n\r\nexport class Book extends React.Component {\r\n  render () {\r\n    const {\r\n      authors,\r\n      description,\r\n      bookCover,\r\n      pageCount,\r\n      previewLink,\r\n      publishedDate,\r\n      publisher,\r\n      subtitle,\r\n      title\r\n    } = this.props;\r\n\r\n    let d = '';\r\n    if (description) {\r\n      d = description.substr(0, 250);\r\n      if (d.length === 250) {\r\n        d += '...';\r\n      }\r\n    }\r\n    const desc = d;\r\n\r\n    let a = '';\r\n    if (authors) {\r\n      a = authors.join(', ');\r\n    }\r\n    const authorList = a;\r\n\r\n    return ( // note that book cover images are approximately 200px wide\r\n      <div className=\"book\" >\r\n        <div className=\"row\">\r\n          <div className=\"book_title_subtitle\" >\r\n            <a href={previewLink} rel=\"noreferrer noopener\" target=\"_blank\">\r\n              <h3>{title}</h3>\r\n            </a>\r\n            <p>{subtitle}</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"left-column\">\r\n            <div className=\"book_coverart\">\r\n              <a href={previewLink} rel=\"noreferrer noopener\" target=\"_blank\">\r\n                <img src={bookCover} alt=\"book cover\" />\r\n              </a>\r\n            </div>\r\n          </div>\r\n          <div className=\"right-column\">\r\n            <div className=\"book_info\">\r\n              <p><strong>Author(s):</strong> {authorList}</p>\r\n              <p><strong>Page Count:</strong> {pageCount}</p>\r\n              <p><strong>Publisher:</strong> {publisher}</p>\r\n              <p><strong>Published:</strong> {publishedDate}</p>\r\n              <a href={previewLink} rel=\"noreferrer noopener\" target=\"_blank\">Open Google Books [<span>&#8599;</span></a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"book_desc\">\r\n            <p>{desc}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport { Book } from './book';\r\nimport loadingGIF from '../img/loading.gif';\r\n\r\nexport class Books extends React.Component {\r\n  render () {\r\n    if (this.props.loading) {\r\n      return (\r\n        <div className=\"loading-wrapper\">\r\n          <img className=\"loading-gif\" src={loadingGIF} alt=\"\"/>\r\n          <p>Fetching results...</p>\r\n        </div>\r\n      );\r\n    } else if (this.props.bookList.length > 0) {\r\n      return this.props.bookList.map((book, idx) => (\r\n          <Book\r\n            key={idx}\r\n            authors={book.authors}\r\n            description={book.description}\r\n            bookCover={book.bookCover}\r\n            pageCount={book.pageCount}\r\n            previewLink={book.previewLink}\r\n            publishedDate={book.publishedDate}\r\n            publisher={book.publisher}\r\n            subtitle={book.subtitle}\r\n            title={book.title}\r\n          />\r\n      ));\r\n    } else {\r\n      return (\r\n        <div className=\"empty-books-area\">No results to show...</div>\r\n      );\r\n    }\r\n  }\r\n}","export default \"data:image/gif;base64,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\"","import React from 'react';\r\n\r\nexport class Page extends React.Component {\r\n  render () {\r\n    const {\r\n      LEFT_PAGE, RIGHT_PAGE,\r\n      currentPage, pages,\r\n      onPageChange\r\n    } = this.props;\r\n\r\n    return (\r\n      <nav aria-label=\"Pagination\">\r\n        <ul className=\"pagination\">\r\n          { pages.map((page, idx) => {\r\n\r\n            if (page === LEFT_PAGE) return (\r\n              <li key={idx} className=\"page-item\">\r\n                <button className=\"page-link\" aria-label=\"Previous\" onClick={() => {onPageChange(currentPage - 1)}}>\r\n                  <span>&laquo;</span>\r\n                </button>\r\n              </li>\r\n            );\r\n\r\n            if (page === RIGHT_PAGE) return (\r\n              <li key={idx} className=\"page-item\">\r\n                <button className=\"page-link\" aria-label=\"Next\" onClick={() => {onPageChange(currentPage + 1)}}>\r\n                  <span>&raquo;</span>\r\n                </button>\r\n              </li>\r\n            );\r\n\r\n            return (\r\n              <li key={idx} className={`page-item${ currentPage === page ? ' active' : ''}`}>\r\n                <button\r\n                  className=\"page-link\"\r\n                  aria-label={`${currentPage === page ? 'current page' : 'go to page ' + page}`}\r\n                  onClick={() => {onPageChange(page)}}\r\n                >\r\n                  { page }\r\n                </button>\r\n              </li>\r\n            );\r\n\r\n          }) }\r\n\r\n        </ul>\r\n      </nav>\r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport { Page } from './page';\r\n\r\nfunction range (lower, upper) {\r\n  const range = [];\r\n\r\n  for (let i = lower; i < upper; i++){\r\n    range.push(i);\r\n  }\r\n\r\n  return range;\r\n}\r\n\r\nexport class Pagination extends React.Component {\r\n  constructor (props) {\r\n    super(props);\r\n    const { prevPages = 0 } = props;\r\n\r\n    this.prevPages = Math.max(0, Math.min(prevPages, 4));\r\n\r\n    this.LEFT_PAGE = 'LEFT';\r\n    this.RIGHT_PAGE = 'RIGHT';\r\n  }\r\n\r\n  getPageInfo () {\r\n    const { currentPage } = this.props;\r\n\r\n    if (currentPage === 1) {\r\n      return [1, this.RIGHT_PAGE];\r\n    } else {\r\n      const startPage = Math.max(currentPage - this.prevPages, 2);\r\n      let pages = range(startPage, currentPage);\r\n      return [1, this.LEFT_PAGE, ...pages, currentPage, this.RIGHT_PAGE];\r\n    }\r\n  }\r\n\r\n  render () {\r\n    if (!this.props.show) return null;\r\n    const pages = this.getPageInfo();\r\n\r\n    return (\r\n      <Page\r\n        onPageChange={this.props.onPageChange}\r\n        LEFT_PAGE={this.LEFT_PAGE}\r\n        RIGHT_PAGE={this.RIGHT_PAGE}\r\n        currentPage={this.props.currentPage}\r\n        pages={pages}\r\n      />\r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './css/index.css';\r\n\r\nimport { fetchBooksFromAPI } from './js/api-fetch';\r\nimport { Search } from './js/search';\r\nimport { Books } from './js/books';\r\nimport { Pagination } from './js/pagination';\r\n\r\nclass Base extends React.Component {\r\n  constructor (props) {\r\n    super(props);\r\n    this.state = {\r\n      query: '',\r\n      currentSearchQuery: '',\r\n      books: [],\r\n      currentPage: 0,\r\n      loading: false,\r\n    };\r\n    this.booksPerPage = 10;\r\n  }\r\n\r\n  handleChange (userIn) {\r\n    this.setState({\r\n      query: userIn.target.value\r\n    });\r\n  }\r\n\r\n  handleSearch () {\r\n    const { query } = this.state;\r\n    if (!query) return;\r\n    this.setState({loading: true});\r\n    fetchBooksFromAPI(query, 0, this.booksPerPage)\r\n    .then(res => {\r\n      this.setState({\r\n        currentSearchQuery: query,\r\n        currentPage: 1,\r\n        books: res.books,\r\n        loading: false,\r\n      });\r\n    });\r\n  }\r\n\r\n  handlePageChange (newPage) {\r\n    const { currentSearchQuery, currentPage } = this.state;\r\n    if (!currentSearchQuery) return;\r\n    if (newPage === currentPage) {\r\n      window.scrollTo({top: 0, behavior: 'smooth'});\r\n      return;\r\n    }\r\n    const newStartIdx = (newPage - 1) * this.booksPerPage;\r\n\r\n    this.setState({loading: true});\r\n    fetchBooksFromAPI(currentSearchQuery, newStartIdx, this.booksPerPage)\r\n    .then(res => {\r\n      this.setState({\r\n        currentPage: newPage,\r\n        books: res.books,\r\n        loading: false,\r\n      });\r\n    });\r\n  }\r\n\r\n  handleClear () {\r\n    this.setState({\r\n      query: ''\r\n    });\r\n    const searchInput = document.querySelector('#search-input');\r\n    searchInput.focus();\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <div className=\"wrapper\">\r\n        <header>\r\n          <h1>Find A Book</h1>\r\n        </header>\r\n        <div className=\"search-wrapper\">\r\n          <Search \r\n            onChange={(userIn) => this.handleChange(userIn)}\r\n            onClick={() => this.handleSearch()}\r\n            query={this.state.query}\r\n            onClear={() => this.handleClear()}\r\n          />\r\n        </div>\r\n        <div className=\"books-wrapper\">\r\n          <Books \r\n            bookList={this.state.books}\r\n            loading={this.state.loading}\r\n          />\r\n        </div>\r\n        <div className=\"pages-wrapper\">\r\n          <Pagination\r\n            onPageChange={(n) => this.handlePageChange(n)}\r\n            currentPage={this.state.currentPage}\r\n            pageSize={this.booksPerPage}\r\n            prevPages={2}\r\n            show={this.state.currentPage > 0}\r\n          />\r\n        </div>\r\n        <footer>\r\n          By <a href=\"https://j-weigle.github.io\" rel=\"noreferrer noopener\" target=\"_blank\">Justin Weigle</a>\r\n        </footer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// ========================================================\r\nReactDOM.render(<Base />, document.getElementById('root'));"],"sourceRoot":""}